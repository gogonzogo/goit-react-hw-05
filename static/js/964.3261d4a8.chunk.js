"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[964],{2639:function(e,t,r){r.d(t,{Z:function(){return i}});var a={},n=r(4691),s=r(184),i=function(){return(0,s.jsx)("div",{className:a.loaderContainer,children:(0,s.jsx)(n.Yt,{visible:!0,height:"80",width:"80",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efff",color:"#e15b64"})})}},4254:function(e,t,r){r.d(t,{Z:function(){return u}});var a="MovieCard_movieGalleryItem__dnDEx",n="MovieCard_movieGalleryImg__9rhm1",s="MovieCard_movieItemDetails__QiHqU",i="MovieCard_movieGalleryDetailItem__w2MbF",c=r(5952),o=r(2639),l=r(184),u=function(e){var t=e.movie,r=e.releaseYear,u=e.userScore,m=e.overview,d=e.genres,f=e.isLoading,h=c.y.IMG_BASE_URL,v=c.y.MOVIE_IMG_PLACEHOLDER_URL,p="".concat(h).concat(t.poster_path);return f?(0,l.jsx)(o.Z,{}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("li",{className:a,children:[(0,l.jsx)("img",{className:n,src:function(e){return e.poster_path?p:v}(t),alt:t.title,"data-value":t.id,width:"200px"}),(0,l.jsxs)("ul",{className:s,children:[r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{className:i,children:t.title||t.original_name}),(0,l.jsx)("li",{className:i,children:r.slice(0,4)})]}),u&&(0,l.jsxs)("li",{className:i,children:["User Score: ",u]}),m&&(0,l.jsx)("li",{className:i,children:m}),d&&(0,l.jsxs)("li",{className:i,children:["Genres:"," ",d.map((function(e){return(0,l.jsxs)("span",{children:[e.name," "]},e.id)}))]})]})]})})}},2845:function(e,t,r){r.d(t,{Z:function(){return o}});var a="MovieGallery_movieGallery__M2pL-",n=r(7689),s=r(4254),i=r(2639),c=r(184),o=function(e){var t=e.movies,r=e.isLoading,o=(0,n.s0)();if(t)return r?(0,c.jsx)(i.Z,{}):(0,c.jsx)("ul",{className:a,onClick:function(e){if("IMG"===e.target.nodeName){var t=e.target.dataset.value;o("/movies/".concat(t))}},children:t.results.map((function(e){return(0,c.jsx)(s.Z,{movie:e,isLoading:r},e.id)}))})}},5952:function(e,t,r){r.d(t,{_:function(){return a},y:function(){return n}});var a=function(e,t,r){var a="/search/movie?query=".concat(r),n="/movie/".concat(e),s="/movie/".concat(e,"/credits"),i="/movie/".concat(e,"/reviews");switch(t){case"trending":return"/trending/all/day";case"search":return a;case"details":return n;case"cast":return s;case"reviews":return i;default:return}},n={API_KEY:"5d8e08b77a668b368d7194faf94b14f5",BASE_URL:"https://api.themoviedb.org/3",IMG_BASE_URL:"https://image.tmdb.org/t/p/w500",MOVIE_IMG_PLACEHOLDER_URL:"https://placehold.jp/84848b/ffffff/200x300.jpg?text=Movie%20Poster%20Unavailable",CAST_IMG_PLACEHOLDER_URL:"https://placehold.jp/95959d/ffffff/80x120.png?text=NO%20IMAGE%20AVAILABLE"}},1402:function(e,t,r){r.d(t,{Z:function(){return v},A:function(){return h}});var a=r(7689),n=r(5861),s=r(9439),i=r(7757),c=r.n(i),o=r(1243),l=r(2791),u=r(5952),m=function(e){return!e||e!==d()},d=function(){var e=new Date,t=e.getDate(),r=e.getMonth()+1;return"".concat(t,"-").concat(r)},f=function(e){var t=(0,l.useState)(null),r=(0,s.Z)(t,2),a=r[0],i=r[1],f=(0,l.useState)(null),h=(0,s.Z)(f,2),v=h[0],p=h[1],_=(0,l.useState)(0),g=(0,s.Z)(_,2),x=g[0],S=g[1],j=(0,l.useState)(!0),b=(0,s.Z)(j,2),L=b[0],I=b[1],y=u.y.API_KEY,M=u.y.BASE_URL;return(0,l.useEffect)((function(){var t=function(){var t=(0,n.Z)(c().mark((function t(){var r,a,n,s,l,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"/search/movie?query="!==e){t.next=4;break}return i(),I(!1),t.abrupt("return");case 4:if(t.prev=4,I(!0),!localStorage.getItem(e)){t.next=18;break}if(r=JSON.parse(localStorage.getItem(e)),a=r.timeStamp,n=r.responseData,m(a)){t.next=17;break}return i(n),p(null),I(!1),t.abrupt("return");case 17:localStorage.clear();case 18:return t.next=20,(0,o.Z)("".concat(M).concat(e),{params:{api_key:y,language:"en-US",adult:!1}});case 20:if(s=t.sent,0!==(l=s.data).total_results){t.next=26;break}return i(null),p(!0),t.abrupt("return");case 26:u=d(),localStorage.setItem(e,JSON.stringify({timeStamp:u,responseData:l})),i(s.data),p(null),S(s.data.total_results),t.next=38;break;case 33:t.prev=33,t.t0=t.catch(4),p(t.t0),i(null),console.log("Error fetching data from ".concat(e,": , ").concat(t.t0));case 38:return t.prev=38,I(!1),t.finish(38);case 41:case"end":return t.stop()}}),t,null,[[4,33,38,41]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,y,M]),{data:a,error:v,isLoading:L,totalResults:x}},h=function(e,t){var r=(0,a.UO)().movieId,n=(0,u._)(r,e,t),s=f(n,t);return{movieId:r,URL:n,data:s.data,isLoading:s.isLoading,error:s.error}},v=h},2964:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var a=r(9439),n="Movies_movieSearchContainer__Nvnzc",s={searchFormInput:"SearchForm_searchFormInput__3mF-P",searchFormContainer:"SearchForm_searchFormContainer__eByRx"},i=r(2791),c=r(184),o=function(e){var t=e.onSubmit,r=(0,i.useState)(""),n=(0,a.Z)(r,2),o=n[0],l=n[1];return(0,c.jsx)("div",{className:s.searchContainer,children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o)},className:s.searchFormContainer,children:[(0,c.jsx)("input",{className:s.searchFormInput,name:"search",type:"text",value:o,onChange:function(e){var t=e.target.value;l(t)}}),(0,c.jsx)("button",{className:s.searchFormButton,type:"submit",children:"Search"})]})})},l=r(1402),u=r(2845),m=function(){var e=(0,i.useState)(""),t=(0,a.Z)(e,2),r=t[0],s=t[1],m=(0,l.A)("search",r),d=m.data,f=m.isLoading,h=m.error;return(0,c.jsxs)("div",{className:n,children:[(0,c.jsx)(o,{onSubmit:function(e){e&&s(e)}}),h?(0,c.jsx)("h1",{children:"No movies match search"}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.Z,{movies:d,isLoading:f})," "]})]})}}}]);
//# sourceMappingURL=964.3261d4a8.chunk.js.map