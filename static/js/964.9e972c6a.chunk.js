"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[964],{2639:function(e,t,a){a.d(t,{Z:function(){return i}});var r={},n=a(4691),s=a(184),i=function(){return(0,s.jsx)("div",{className:r.loaderContainer,children:(0,s.jsx)(n.Yt,{visible:!0,height:"80",width:"80",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efff",color:"#e15b64"})})}},4254:function(e,t,a){a.d(t,{Z:function(){return o}});var r={movieGalleryItem:"MovieCard_movieGalleryItem__dnDEx"},n=a(5952),s=a(2639),i=a(184),o=function(e){var t=e.movie,a=e.releaseYear,o=e.userScore,c=e.overview,l=e.genres,u=e.isLoading,m=n.y.IMG_BASE_URL,d=n.y.IMG_PLACEHOLDER_URL,f="".concat(m).concat(t.poster_path);return u?(0,i.jsx)(s.Z,{}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("li",{className:r.movieGalleryItem,children:[(0,i.jsx)("img",{className:r.movieGalleryImg,src:function(e){return e.poster_path?f:d}(t),alt:t.title,"data-value":t.id,width:"200px"}),(0,i.jsx)("p",{className:r.movieGalleryTitle,children:t.title||t.original_name}),a&&(0,i.jsx)("p",{className:r.movieGalleryText,children:a.slice(0,4)}),o&&(0,i.jsxs)("p",{className:r.movieGalleryText,children:["User Score: ",o]}),c&&(0,i.jsx)("p",{className:r.movieGalleryText,children:c}),l&&(0,i.jsxs)("p",{className:r.movieGalleryText,children:["Genres:"," ",l.map((function(e){return(0,i.jsxs)("span",{children:[e.name," "]},e.id)}))]})]})})}},2845:function(e,t,a){a.d(t,{Z:function(){return c}});var r="MovieGallery_movieGallery__M2pL-",n=a(7689),s=a(4254),i=a(2639),o=a(184),c=function(e){var t=e.movies,a=e.isLoading,c=(0,n.s0)();if(t)return a?(0,o.jsx)(i.Z,{}):(0,o.jsx)("ul",{className:r,onClick:function(e){if("IMG"===e.target.nodeName){var t=e.target.dataset.value;c("/movies/".concat(t))}},children:t.results.map((function(e){return(0,o.jsx)(s.Z,{movie:e,isLoading:a},e.id)}))})}},5952:function(e,t,a){a.d(t,{_:function(){return r},y:function(){return n}});var r=function(e,t,a){var r="/search/movie?query=".concat(a),n="/movie/".concat(e),s="/movie/".concat(e,"/credits"),i="/movie/".concat(e,"/reviews");switch(t){case"trending":return"/trending/all/day";case"search":return r;case"details":return n;case"cast":return s;case"reviews":return i;default:return}},n={API_KEY:"5d8e08b77a668b368d7194faf94b14f5",BASE_URL:"https://api.themoviedb.org/3",IMG_BASE_URL:"https://image.tmdb.org/t/p/w500",IMG_PLACEHOLDER_URL:"https://placehold.jp/84848b/ffffff/200x300.jpg?text=Movie%20Poster%20Unavailable"}},1402:function(e,t,a){a.d(t,{Z:function(){return p},A:function(){return v}});var r=a(7689),n=a(5861),s=a(9439),i=a(7757),o=a.n(i),c=a(1243),l=a(2791),u=a(5952),m=function(e){return!e||e!==d()},d=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return"".concat(t,"-").concat(a)},f=function(e){var t=(0,l.useState)(null),a=(0,s.Z)(t,2),r=a[0],i=a[1],f=(0,l.useState)(null),v=(0,s.Z)(f,2),p=v[0],h=v[1],g=(0,l.useState)(0),x=(0,s.Z)(g,2),_=x[0],y=x[1],S=(0,l.useState)(!0),j=(0,s.Z)(S,2),b=j[0],L=j[1],G=u.y.API_KEY,N=u.y.BASE_URL;return(0,l.useEffect)((function(){var t=function(){var t=(0,n.Z)(o().mark((function t(){var a,r,n,s,l,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"/search/movie?query="!==e){t.next=4;break}return i(),L(!1),t.abrupt("return");case 4:if(t.prev=4,L(!0),!localStorage.getItem(e)){t.next=18;break}if(a=JSON.parse(localStorage.getItem(e)),r=a.timeStamp,n=a.responseData,m(r)){t.next=17;break}return i(n),h(null),L(!1),t.abrupt("return");case 17:localStorage.clear();case 18:return t.next=20,(0,c.Z)("".concat(N).concat(e),{params:{api_key:G,language:"en-US",adult:!1}});case 20:if(s=t.sent,l=s.data,console.log(l),0!==l.total_results){t.next=27;break}return i(null),h(!0),t.abrupt("return");case 27:u=d(),localStorage.setItem(e,JSON.stringify({timeStamp:u,responseData:l})),i(s.data),h(null),y(s.data.total_results),t.next=39;break;case 34:t.prev=34,t.t0=t.catch(4),h(t.t0),i(null),console.log("Error fetching data from ".concat(e,": , ").concat(t.t0));case 39:return t.prev=39,L(!1),t.finish(39);case 42:case"end":return t.stop()}}),t,null,[[4,34,39,42]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,G,N]),{data:r,error:p,isLoading:b,totalResults:_}},v=function(e,t){var a=(0,r.UO)().movieId,n=(0,u._)(a,e,t),s=f(n,t);return{movieId:a,URL:n,data:s.data,isLoading:s.isLoading,error:s.error}},p=v},2964:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=a(9439),n={},s={},i=a(2791),o=a(184),c=function(e){var t=e.onSubmit,a=(0,i.useState)(""),n=(0,r.Z)(a,2),c=n[0],l=n[1];return(0,o.jsx)("div",{className:s.searchContainer,children:(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c)},className:s.searchFormContainer,children:[(0,o.jsx)("input",{className:s.searchFormInput,name:"search",type:"text",value:c,onChange:function(e){var t=e.target.value;l(t)}}),(0,o.jsx)("button",{className:s.searchFormButton,type:"submit",children:"Search"})]})})},l=a(1402),u=a(2845),m=function(){var e=(0,i.useState)(""),t=(0,r.Z)(e,2),a=t[0],s=t[1],m=(0,l.A)("search",a),d=m.data,f=m.isLoading,v=m.error;return(0,o.jsxs)("div",{className:n.movieSearchContainer,children:[(0,o.jsx)(c,{onSubmit:function(e){e&&s(e)}}),v?(0,o.jsx)("h1",{children:"No movies match search"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{movies:d,isLoading:f})," "]})]})}}}]);
//# sourceMappingURL=964.9e972c6a.chunk.js.map