"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[472],{2639:function(e,t,r){r.d(t,{Z:function(){return s}});var a={},n=r(4691),i=r(184),s=function(){return(0,i.jsx)("div",{className:a.loaderContainer,children:(0,i.jsx)(n.Yt,{visible:!0,height:"80",width:"80",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efff",color:"#e15b64"})})}},4254:function(e,t,r){r.d(t,{Z:function(){return o}});var a={movieGalleryItem:"MovieCard_movieGalleryItem__dnDEx"},n=r(5952),i=r(2639),s=r(184),o=function(e){var t=e.movie,r=e.releaseYear,o=e.userScore,c=e.overview,l=e.genres,u=e.isLoading,d=n.y.IMG_BASE_URL,f=n.y.IMG_PLACEHOLDER_URL,m="".concat(d).concat(t.poster_path);return u?(0,s.jsx)(i.Z,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("li",{className:a.movieGalleryItem,children:[(0,s.jsx)("img",{className:a.movieGalleryImg,src:function(e){return e.poster_path?m:f}(t),alt:t.title,"data-value":t.id,width:"200px"}),(0,s.jsx)("p",{className:a.movieGalleryTitle,children:t.title||t.original_name}),r&&(0,s.jsx)("p",{className:a.movieGalleryText,children:r.slice(0,4)}),o&&(0,s.jsxs)("p",{className:a.movieGalleryText,children:["User Score: ",o]}),c&&(0,s.jsx)("p",{className:a.movieGalleryText,children:c}),l&&(0,s.jsxs)("p",{className:a.movieGalleryText,children:["Genres:"," ",l.map((function(e){return(0,s.jsxs)("span",{children:[e.name," "]},e.id)}))]})]})})}},2845:function(e,t,r){r.d(t,{Z:function(){return c}});var a="MovieGallery_movieGallery__M2pL-",n=r(7689),i=r(4254),s=r(2639),o=r(184),c=function(e){var t=e.movies,r=e.isLoading,c=(0,n.s0)();if(t)return r?(0,o.jsx)(s.Z,{}):(0,o.jsx)("ul",{className:a,onClick:function(e){if("IMG"===e.target.nodeName){var t=e.target.dataset.value;c("/movies/".concat(t))}},children:t.results.map((function(e){return(0,o.jsx)(i.Z,{movie:e,isLoading:r},e.id)}))})}},5952:function(e,t,r){r.d(t,{_:function(){return a},y:function(){return n}});var a=function(e,t,r){var a="/search/movie?query=".concat(r),n="/movie/".concat(e),i="/movie/".concat(e,"/credits"),s="/movie/".concat(e,"/reviews");switch(t){case"trending":return"/trending/all/day";case"search":return a;case"details":return n;case"cast":return i;case"reviews":return s;default:return}},n={API_KEY:"5d8e08b77a668b368d7194faf94b14f5",BASE_URL:"https://api.themoviedb.org/3",IMG_BASE_URL:"https://image.tmdb.org/t/p/w500",IMG_PLACEHOLDER_URL:"https://placehold.jp/84848b/ffffff/200x300.jpg?text=Movie%20Poster%20Unavailable"}},1402:function(e,t,r){r.d(t,{Z:function(){return p},A:function(){return v}});var a=r(7689),n=r(5861),i=r(9439),s=r(7757),o=r.n(s),c=r(1243),l=r(2791),u=r(5952),d=function(e){return!e||e!==f()},f=function(){var e=new Date,t=e.getDate(),r=e.getMonth()+1;return"".concat(t,"-").concat(r)},m=function(e){var t=(0,l.useState)(null),r=(0,i.Z)(t,2),a=r[0],s=r[1],m=(0,l.useState)(null),v=(0,i.Z)(m,2),p=v[0],g=v[1],h=(0,l.useState)(0),x=(0,i.Z)(h,2),_=x[0],y=x[1],j=(0,l.useState)(!0),L=(0,i.Z)(j,2),b=L[0],S=L[1],G=u.y.API_KEY,w=u.y.BASE_URL;return(0,l.useEffect)((function(){var t=function(){var t=(0,n.Z)(o().mark((function t(){var r,a,n,i,l,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"/search/movie?query="!==e){t.next=4;break}return s(),S(!1),t.abrupt("return");case 4:if(t.prev=4,S(!0),!localStorage.getItem(e)){t.next=18;break}if(r=JSON.parse(localStorage.getItem(e)),a=r.timeStamp,n=r.responseData,d(a)){t.next=17;break}return s(n),g(null),S(!1),t.abrupt("return");case 17:localStorage.clear();case 18:return t.next=20,(0,c.Z)("".concat(w).concat(e),{params:{api_key:G,language:"en-US",adult:!1}});case 20:if(i=t.sent,l=i.data,console.log(l),0!==l.total_results){t.next=27;break}return s(null),g(!0),t.abrupt("return");case 27:u=f(),localStorage.setItem(e,JSON.stringify({timeStamp:u,responseData:l})),s(i.data),g(null),y(i.data.total_results),t.next=39;break;case 34:t.prev=34,t.t0=t.catch(4),g(t.t0),s(null),console.log("Error fetching data from ".concat(e,": , ").concat(t.t0));case 39:return t.prev=39,S(!1),t.finish(39);case 42:case"end":return t.stop()}}),t,null,[[4,34,39,42]])})));return function(){return t.apply(this,arguments)}}();t()}),[e,G,w]),{data:a,error:p,isLoading:b,totalResults:_}},v=function(e,t){var r=(0,a.UO)().movieId,n=(0,u._)(r,e,t),i=m(n,t);return{movieId:r,URL:n,data:i.data,isLoading:i.isLoading,error:i.error}},p=v},1472:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var a="Trending_trendingTitle__EUXjL",n=r(1402),i=r(2845),s=r(184),o=function(){var e=(0,n.Z)("trending"),t=e.data,r=e.isLoading;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:a,children:"Trending Today"}),(0,s.jsx)(i.Z,{movies:t,isLoading:r})]})},c=function(){return(0,s.jsx)("div",{children:(0,s.jsx)(o,{})})}}}]);
//# sourceMappingURL=472.d4c70434.chunk.js.map