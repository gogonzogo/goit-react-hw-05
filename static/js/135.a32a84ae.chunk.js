"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[135,664],{2639:function(e,a,t){t.d(a,{Z:function(){return s}});var r={},n=t(4691),i=t(184),s=function(){return(0,i.jsx)("div",{className:r.loaderContainer,children:(0,i.jsx)(n.Yt,{visible:!0,height:"80",width:"80",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efff",color:"#e15b64"})})}},4254:function(e,a,t){t.d(a,{Z:function(){return o}});var r={movieGalleryItem:"MovieCard_movieGalleryItem__dnDEx"},n=t(5952),i=t(2639),s=t(184),o=function(e){var a=e.movie,t=e.releaseYear,o=e.userScore,c=e.overview,l=e.genres,u=e.isLoading,d=n.y.IMG_BASE_URL,v=n.y.IMG_PLACEHOLDER_URL,m="".concat(d).concat(a.poster_path);return u?(0,s.jsx)(i.Z,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("li",{className:r.movieGalleryItem,children:[(0,s.jsx)("img",{className:r.movieGalleryImg,src:function(e){return e.poster_path?m:v}(a),alt:a.title,"data-value":a.id,width:"200px"}),(0,s.jsx)("p",{className:r.movieGalleryTitle,children:a.title||a.original_name}),t&&(0,s.jsx)("p",{className:r.movieGalleryText,children:t.slice(0,4)}),o&&(0,s.jsxs)("p",{className:r.movieGalleryText,children:["User Score: ",o]}),c&&(0,s.jsx)("p",{className:r.movieGalleryText,children:c}),l&&(0,s.jsxs)("p",{className:r.movieGalleryText,children:["Genres:"," ",l.map((function(e){return(0,s.jsxs)("span",{children:[e.name," "]},e.id)}))]})]})})}},5952:function(e,a,t){t.d(a,{_:function(){return r},y:function(){return n}});var r=function(e,a,t){var r="/search/movie?query=".concat(t),n="/movie/".concat(e),i="/movie/".concat(e,"/credits"),s="/movie/".concat(e,"/reviews");switch(a){case"trending":return"/trending/all/day";case"search":return r;case"details":return n;case"cast":return i;case"reviews":return s;default:return}},n={API_KEY:"5d8e08b77a668b368d7194faf94b14f5",BASE_URL:"https://api.themoviedb.org/3",IMG_BASE_URL:"https://image.tmdb.org/t/p/w500",IMG_PLACEHOLDER_URL:"https://placehold.jp/84848b/ffffff/200x300.jpg?text=Movie%20Poster%20Unavailable"}},1402:function(e,a,t){t.d(a,{Z:function(){return h},A:function(){return f}});var r=t(7689),n=t(5861),i=t(9439),s=t(7757),o=t.n(s),c=t(1243),l=t(2791),u=t(5952),d=function(e){return!e||e!==v()},v=function(){var e=new Date,a=e.getDate(),t=e.getMonth()+1;return"".concat(a,"-").concat(t)},m=function(e){var a=(0,l.useState)(null),t=(0,i.Z)(a,2),r=t[0],s=t[1],m=(0,l.useState)(null),f=(0,i.Z)(m,2),h=f[0],p=f[1],x=(0,l.useState)(0),g=(0,i.Z)(x,2),j=g[0],_=g[1],y=(0,l.useState)(!0),L=(0,i.Z)(y,2),I=L[0],S=L[1],b=u.y.API_KEY,w=u.y.BASE_URL;return(0,l.useEffect)((function(){var a=function(){var a=(0,n.Z)(o().mark((function a(){var t,r,n,i,l,u;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&"/search/movie?query="!==e){a.next=4;break}return s(),S(!1),a.abrupt("return");case 4:if(a.prev=4,S(!0),!localStorage.getItem(e)){a.next=18;break}if(t=JSON.parse(localStorage.getItem(e)),r=t.timeStamp,n=t.responseData,d(r)){a.next=17;break}return s(n),p(null),S(!1),a.abrupt("return");case 17:localStorage.clear();case 18:return a.next=20,(0,c.Z)("".concat(w).concat(e),{params:{api_key:b,language:"en-US",adult:!1}});case 20:if(i=a.sent,l=i.data,console.log(l),0!==l.total_results){a.next=27;break}return s(null),p(!0),a.abrupt("return");case 27:u=v(),localStorage.setItem(e,JSON.stringify({timeStamp:u,responseData:l})),s(i.data),p(null),_(i.data.total_results),a.next=39;break;case 34:a.prev=34,a.t0=a.catch(4),p(a.t0),s(null),console.log("Error fetching data from ".concat(e,": , ").concat(a.t0));case 39:return a.prev=39,S(!1),a.finish(39);case 42:case"end":return a.stop()}}),a,null,[[4,34,39,42]])})));return function(){return a.apply(this,arguments)}}();a()}),[e,b,w]),{data:r,error:h,isLoading:I,totalResults:j}},f=function(e,a){var t=(0,r.UO)().movieId,n=(0,u._)(t,e,a),i=m(n,a);return{movieId:t,URL:n,data:i.data,isLoading:i.isLoading,error:i.error}},h=f},2664:function(e,a,t){t.r(a),t.d(a,{default:function(){return l}});var r={},n=t(7689),i=t(1087),s=t(2791),o=t(2639),c=t(184),l=function(){var e=(0,n.UO)().movieId;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:r.additionalMovieInfo,children:[(0,c.jsx)("p",{className:r.additionalMovieInfoTitle,children:"Additional information"}),(0,c.jsxs)("ul",{className:r.additionalMovieInfoList,children:[(0,c.jsx)("li",{className:r.additionalMovieInfoListItem,children:(0,c.jsx)(i.OL,{to:"/movies/".concat(e,"/cast"),className:r.castLink,children:"Cast"})}),(0,c.jsx)("li",{className:r.additionalMovieInfoListItem,children:(0,c.jsx)(i.OL,{to:"/movies/".concat(e,"/reviews"),className:r.reviewLink,children:"Reviews"})})]})]}),(0,c.jsx)("div",{children:(0,c.jsx)(s.Suspense,{fallback:(0,c.jsx)(o.Z,{}),children:(0,c.jsx)(n.j3,{})})})]})}},7135:function(e,a,t){t.r(a),t.d(a,{default:function(){return u}});var r={},n=t(1402),i=t(4254),s=t(2664),o=t(7689),c=t(2639),l=t(184),u=function(){var e=(0,n.Z)("details"),a=e.data,t=e.isLoading,u=e.error,d=a,v=(0,o.s0)();console.log(a);return u?(0,l.jsx)("h1",{children:"Sorry, no movie details for the selected movie."}):t?(0,l.jsx)(c.Z,{}):(0,l.jsxs)("div",{className:r.movieDetailsContainer,children:[(0,l.jsx)("button",{onClick:function(){v(-1)},children:"Go Back"}),(0,l.jsx)("ul",{className:r.movieDetails,children:(0,l.jsx)(i.Z,{movie:d,releaseYear:d.release_date,userScore:d.vote_average,overview:d.overview,genres:d.genres})}),(0,l.jsx)(s.default,{})]})}}}]);
//# sourceMappingURL=135.a32a84ae.chunk.js.map